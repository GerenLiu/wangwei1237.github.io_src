---
title: 自动化测试首先是一种工作文化
reward: false
top: false
date: 2020-07-08 12:43:07
categories: 
  - 总结
tags:
  - 测试工作
  - 自动化测试
  - auto test
  - auto case
---

> 自古以来，人类就有创造自动装置以减轻或代替人劳动的想法。自动化技术的产生和发展经历了漫长的历史过程。古代中国的铜壶滴漏（简称漏壶）、指南车以及17世纪欧洲出现的钟表和风磨控制装置，虽然都是毫无联系的发明，但对自动化技术的形成却起到了先导作用。

## 自动化测试之痛
最近在帮助一个团队梳理团队测试效率的问题，其目标是提升该团队的测试效率。在整个梳理的过程中，我发现一件非常有意思的事情：这个团队基本上没有自动化测试，大部分的测试手段还是手工测试加CR。更为有意思的事情是：团队成员大都对自动化测试比较抵触，认为自动化测试的成本较大，且看不到收益。

回想过去几年的测试工作，我发现，几乎所有的测试团队在面对自动化测试时都会存在类似的问题：**希望自动化测试提升效率，但是执行时却发现自动化测试反而没有提升效率，因此慢慢废弃自动化测试，直至抵触自动化测试，到最后自动化测试变成一种“形而上”般的存在**。我姑且称这种现象为——**自动化测试之痛**。

<!--more-->

自动化测试之痛的问题根源究竟是什么呢？事情真的如有些团队所说：自动化case的成本太大，又没有收益吗？

## 侠客岛的故事
> 自从三十年前开始，每过十年，就会有大批的武林高手被请去侠客岛喝腊八粥，不但这些武林高手从此都一去不复返，而且侠客岛还演变成为了赏善罚恶的行动。
> 
> 为此，江湖中人人自危，每到十年之期，各大门派的掌门就纷纷寻找替身，来躲避侠客岛的赏善罚恶。但是，当这些武林高手到了侠客岛之后才终于揭开了侠客岛的秘密。
> 
> 原来岛上刻有武林秘籍，由于岛主人参不透秘籍，所以才会请武林高手到岛上共同参悟。并且由于岛上的‘断肠蚀骨腐心草’十年一开花，此草若再配以其他佐使之药，熬成热粥，服后于练武之士大有补益，因此才有了每十年邀请一次的惯例。被邀上岛的人也并不是遇害，而是痴迷于武学，都不想回去罢了。
> 
> **<div align="right">——《侠客行》</div>**

有多少时候，我们对自动化测试的认识和江湖人士对侠客岛的认识是类似的呢？
有多少时候，明明是侠客岛盛情所邀，江湖之上却人人躲而避之呢？
有多少时候，明明是对自己大有补益的腊八粥，所有被邀的武林人士却不敢喝下呢？

或许你会反驳，但凡有上岛的武林人士扩散一下事实真相，那整个江湖也不至于如此？
但是，正如本文开篇所述，整个人类社会都是证明自动化的历史，为什么还有那么多的团队在质疑自动化测试呢？
为什么有那么多的测试实践已经证明了自动化测试的成效——例如谷歌的[**Test Mercenaries**](https://mike-bland.com/2012/07/10/test-mercenaries.html)计划，还是有那么多的团队对自动化测试心存质疑呢？

正如Sam NewMan在[**Monolith To Microservices**](https://samnewman.io/books/monolith-to-microservices/)一书中说的那样：[一旦我们陷入系统性抹黑单体的陷阱，我们就会面临很大的麻烦](/monolith-to-microservices/docs/The_Monolith.html#ref_denigrating_monolith)。

## 自动化测试的定位
接下来，我从3个方面来阐述自动化测试的定位。

### 测试的4大活动
根据乔梁老师的[《持续集成2.0》](https://item.jd.com/12512514.html)一书中所述，测试领域有4大基本活动，如[图1](#f1)所示。

<span id='f1'>![](f1.png)</span>

图1. 测试的4大基本活动

其中，各活动的基本含义如下：
* **问题认知**：对业务问题本身的理解和认知，包括需求理解，技术设计理解……
* **分析**：测试分析和测试设计，根据对问题的认知，设计测试方案和用例，保证业务质量
* **执行**：执行分析阶段的测试用例，产出测试结论
* **决策**：根据测试结论进行相关决策，包括是否存在风险，是否达到上线标准……

### 敏捷测试4象限
根据测试所支持的对象，测试可以分为：[面向业务业务的测试和面向研发的测试](https://www.tutorialspoint.com/agile_testing/agile_testing_quadrants.htm)。[Brian Marick](http://www.exampler.com/old-blog/2003/08/22/#agile-testing-project-2)根据这两种测试类型提出了**敏捷测试4象限**的概念，如[图2](#f2)所示。

<span id='f2'>![](f2.png)</span>

图2. 敏捷测试4象限

在[图2](#f2)中：
* **功能验收测试**：从用户的角度来验收功能
* **第三象限的自动化测试**：研发团队对自我软件技术实现的验证

### 自动化测试的4要素
在测试的4大活动中，“执行”环节会存在大量的重复工作，而其中的大部分工作都可以由机器来承担。此时就可以发挥自动化测试的优势，释放人的重复劳动。

而在Brian Marick的敏捷测试4象限中，第2、第3象限的测试类型也可以发挥自动化测试的优势，提升整个测试执行的效率。

对于自动化测试而言，我总结了自动化测试的4要素：自动部署、自动执行、自动校验、自动报告，如[图3](#f3)所示。

<span id='f3'>![](f3.gif)</span>

图3. 自动化测试的4要素

## 自动化测试的误区
待续……

### 误区1：只看短期效率收益，忽略长期累积收益

### 误区2：只看个人收益，忽略团队收益

### 误区3：成本核算标准不一致


